---
- name: download JBoss EAP patches
  get_url:
    url: "{{ software_repository_url }}/{{ item }}"
    dest: "{{ jboss_eap_temp }}/{{ item }}"
  loop: "{{ jboss_eap_patch_zip }}"
  ignore_errors: yes

- name: apply JBoss EAP patches
  command: "{{ jboss_eap_home }}/bin/jboss-cli.sh --command='patch apply {{ item }}'"
  loop: "{{ query('fileglob', '{{ jboss_eap_temp }}/{{ jboss_eap_patch_pattern }}') | sort }}"
